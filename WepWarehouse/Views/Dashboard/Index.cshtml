@model VMDashbord
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/Menu.cshtml";
}

<div class="page-wrapper">

	<div class="content container-fluid">
		<!-- Page Header -->
		<div class="page-header">
			<div class="row">
				<div class="col-sm-12">
					<div class="page-sub-header">
						<h3 class="page-title">Welcome Admin!</h3>
						<ul class="breadcrumb">
							<li class="breadcrumb-item"><a href="index.html">Home</a></li>
							<li class="breadcrumb-item active">Admin</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<!-- /Page Header -->
		<!-- Overview Section -->
		<div class="row">
			<div class="col-xl-3 col-sm-6 col-12 d-flex">
				<div class="card bg-comman w-100">
					<div class="card-body">
						<div class="db-widgets d-flex justify-content-between align-items-center">
							<div class="db-info">
								<h6>Users</h6>
								<h3>@Model.TotalUsers</h3>
							</div>
							<div class="db-icon">
								<img src="~/assets/img/5146077.png"
									 alt="Dashboard Icon"
									 style="width: 75px; height: 75px;">
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="col-xl-3 col-sm-6 col-12 d-flex">
				<div class="card bg-comman w-100">
					<div class="card-body">
						<div class="db-widgets d-flex justify-content-between align-items-center">
							<div class="db-info">
								<h6>Roles</h6>
								<h3>@Model.TotalRoles</h3>
							</div>
							<div class="db-icon">
								<img src="~/assets/img/rolesicon.png"
									 alt="Dashboard Icon"
									 style="width: 75px; height: 75px;">
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="col-xl-3 col-sm-6 col-12 d-flex">
				<div class="card bg-comman w-100">
					<div class="card-body">
						<div class="db-widgets d-flex justify-content-between align-items-center">
							<div class="db-info">
								<h6>WareHouses</h6>
								<h3>@Model.WareHouse</h3>
							</div>
							<div class="db-icon">
								<img src="~/assets/img/3361571.png"
									 alt="Dashboard Icon"
									 style="width: 75px; height: 75px;">
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="col-xl-3 col-sm-6 col-12 d-flex">
				<div class="card bg-comman w-100">
					<div class="card-body">
						<div class="db-widgets d-flex justify-content-between align-items-center">
							<div class="db-info">
								<h6>Items</h6>
								<h3>@Model.WareHouseItem</h3>
							</div>
							<div class="db-icon">
								<img src="~/assets/img/8161879.png"
									 alt="Dashboard Icon"
									 style="width: 75px; height: 75px;">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- /Overview Section -->

		<div class="row">
			<div class="col-sm-12" >

				<div class="card card-table comman-shadow">
					<div class="card-body" >

				<!-- Overview Chart -->
				<div class="card card-chart">
					<div class="card-header">
						<div class="row align-items-center">
							<div class="col-6">
								<h5 class="card-title">Overview</h5>
							</div>
							<div class="col-6">
								<ul class="chart-list-out">
									<li><span class="circle-blue"></span>Warehouses</li>
									<li><span class="circle-green"></span>Items</li>
									<li class="star-menus"><a href="javascript:;"><i class="fas fa-ellipsis-v"></i></a></li>
								</ul>
							</div>
						</div>
					</div>
					<div class="card-body">
						<canvas id="overviewChart" class="small-chart"></canvas>
					</div>
				</div>
				<!-- /Overview Chart -->

			</div>
		</div>

		
		<!-- Chart.js -->
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		<script>
			const ctx = document.getElementById('overviewChart').getContext('2d');
			const overviewChart = new Chart(ctx, {
				type: 'bar', // يمكنك تغييره إلى 'line' أو 'pie'
				data: {
					labels: ['Warehouses', 'Items', 'Users', 'Roles'],
					datasets: [{
						label: 'Count',
						data: [
							@Model.WareHouse,
							@Model.WareHouseItem,
							@Model.TotalUsers,
							@Model.TotalRoles
						],
						backgroundColor: [
							'rgba(0,123,255,0.7)',
							'rgba(40,167,69,0.7)',
							'rgba(255,193,7,0.7)',
							'rgba(23,162,184,0.7)',
							'rgba(220,53,69,0.7)'
						],
						borderColor: [
							'rgba(0,123,255,1)',
							'rgba(40,167,69,1)',
							'rgba(255,193,7,1)',
							'rgba(23,162,184,1)',
							'rgba(220,53,69,1)'
						],
						borderWidth: 1
					}]
				},
				options: {
					responsive: true,
					maintainAspectRatio: true,
					scales: {
						y: { beginAtZero: true, stepSize: 1 }
					}
				}
			});
		</script>

		<style>
			.small-chart {
				width: 100%; /* يأخذ عرض Card بالكامل */
				height: 200px; /* ارتفاع صغير مناسب للـ Card */
			}

			.chart-list-out li span {
				display: inline-block;
				width: 12px;
				height: 12px;
				border-radius: 50%;
				margin-right: 5px;
			}

			.circle-blue {
				background-color: rgba(0,123,255,0.7);
			}

			.circle-green {
				background-color: rgba(40,167,69,0.7);
			}
		</style>

		

